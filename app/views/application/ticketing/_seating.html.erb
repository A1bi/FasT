<%
  default_view ||= :simple
  options ||= {}
  (options[:class] ||= []) << :seating
  (options[:data] ||= {})[:default_view] = default_view
  options[:data][:event_id] = local_assigns[:event]&.id
%>
<%= content_tag :div, options do %>
  <%= content_tag :div, class: [:error, :plural_text] do %>
    <div>Sie müssen noch <b class="number plural"><span></span></b><span class="singular">einen</span> <span class="singular">Sitzplatz</span><span class="plural">Sitzplätze</span> auswählen.</div>
  <% end if (error_box ||= false) %>
  <%= content_tag :div, class: [:viewChooser] do %>
    Ansicht:<% [[:simple, "einfach"], [:numbers_and_underlay, "mit Sitznummern und Blockfarben"]].each_with_index do |type, i| %><% if i > 0 %>|<% end %><%= link_to type.last, nil, data: { type: type.first }, class: default_view == type.first ? :selected : nil %><% end %>
  <% end if (view_chooser ||= false) %>
  <div class="plan-wrapper">
    <div class="plan"></div>
  </div>
<% end %>
